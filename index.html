<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g1 Brookasil - O portal de not√≠cias de Brookasil</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --g1-red: #C4170C;
            --g1-dark: #111111;
            --g1-grey: #f6f6f6;
            --g1-text: #333333;
            --g1-sub: #666666;
            --g1-border: #e5e5e5;
            --new-year-gold: #D4AF37;
            --shadow: 0 10px 30px rgba(0,0,0,0.08);
            --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        /* --- RESET & BASE --- */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }
        body { font-family: 'Open Sans', sans-serif; background: #fff; color: var(--g1-text); overflow-x: hidden; }
        a { text-decoration: none; color: inherit; transition: var(--transition); }
        ul { list-style: none; }
        button { cursor: pointer; border: none; font-family: inherit; }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .hidden { display: none !important; }

        /* --- TOP BAR (CLIMA/HORA) --- */
        .top-bar { background: #fff; border-bottom: 1px solid var(--g1-border); padding: 8px 0; font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--g1-sub); }
        .top-bar .flex { display: flex; justify-content: space-between; align-items: center; }
        .live-indicator { display: flex; align-items: center; gap: 5px; color: var(--g1-red); }
        .live-dot { width: 6px; height: 6px; background: var(--g1-red); border-radius: 50%; animation: pulse 1.5s infinite; }

        /* --- HEADER --- */
        header { background: var(--g1-red); padding: 15px 0; position: sticky; top: 0; z-index: 1000; box-shadow: var(--shadow); }
        .header-content { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 30px; }
        
        .logo-group { display: flex; align-items: center; gap: 10px; }
        .logo-g1 { font-size: 42px; font-weight: 900; color: #fff; letter-spacing: -3px; }
        .logo-region { font-size: 24px; font-weight: 300; color: rgba(255,255,255,0.8); border-left: 1px solid rgba(255,255,255,0.3); padding-left: 12px; margin-left: 5px; }

        .search-wrapper { position: relative; max-width: 500px; width: 100%; }
        .search-wrapper input { width: 100%; padding: 12px 20px; border-radius: 6px; border: none; background: rgba(0,0,0,0.1); color: #fff; font-size: 14px; outline: none; transition: var(--transition); }
        .search-wrapper input:focus { background: #fff; color: #000; }
        .search-wrapper input::placeholder { color: rgba(255,255,255,0.7); }

        .user-nav { display: flex; gap: 20px; align-items: center; color: #fff; font-size: 13px; font-weight: 700; }
        .user-nav .avatar { width: 35px; height: 35px; border-radius: 50%; border: 2px solid #fff; object-fit: cover; }

        /* --- MENU --- */
        .main-nav { background: #fff; border-bottom: 1px solid var(--g1-border); overflow-x: auto; white-space: nowrap; }
        .main-nav ul { display: flex; justify-content: center; }
        .main-nav a { display: block; padding: 18px 20px; font-size: 13px; font-weight: 800; color: var(--g1-red); text-transform: uppercase; border-bottom: 3px solid transparent; }
        .main-nav a:hover { background: var(--g1-grey); border-bottom-color: var(--g1-red); }

        /* --- HOME HERO --- */
        .hero { margin: 40px 0; display: grid; grid-template-columns: 2fr 1fr; gap: 30px; }
        .main-manchete { position: relative; cursor: pointer; overflow: hidden; border-radius: 8px; }
        .main-manchete img { width: 100%; height: 550px; object-fit: cover; transition: transform 0.8s ease; }
        .main-manchete:hover img { transform: scale(1.05); }
        .main-manchete .overlay { position: absolute; bottom: 0; left: 0; width: 100%; padding: 50px 30px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); color: #fff; }
        .main-manchete h1 { font-family: 'Playfair Display', serif; font-size: 48px; line-height: 1; margin-bottom: 15px; }
        .main-manchete p { font-size: 18px; opacity: 0.9; }

        /* --- CARDS --- */
        .news-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-bottom: 60px; }
        .card { background: #fff; transition: var(--transition); border-bottom: 1px solid var(--g1-border); padding-bottom: 20px; }
        .card:hover { transform: translateY(-5px); opacity: 0.8; }
        .card img { width: 100%; height: 220px; object-fit: cover; border-radius: 4px; margin-bottom: 15px; }
        .card .label { color: var(--g1-red); font-weight: 800; font-size: 11px; text-transform: uppercase; margin-bottom: 8px; display: block; }
        .card h3 { font-size: 22px; line-height: 1.2; color: var(--g1-red); font-family: 'Playfair Display', serif; }
        .card .meta { font-size: 12px; color: var(--g1-sub); margin-top: 10px; }

        /* --- ARTICLE VIEW --- */
        .article-view { max-width: 800px; margin: 60px auto; }
        .article-header h1 { font-family: 'Playfair Display', serif; font-size: 56px; line-height: 1.1; margin-bottom: 20px; }
        .article-header h2 { font-size: 24px; color: var(--g1-sub); font-weight: 400; margin-bottom: 30px; }
        .article-info { border-top: 1px solid var(--g1-border); padding: 20px 0; margin-bottom: 40px; display: flex; justify-content: space-between; align-items: center; }
        .article-body { font-size: 20px; line-height: 1.8; color: #222; }
        .article-body p { margin-bottom: 30px; }
        .article-body img { width: 100%; border-radius: 8px; margin: 40px 0; }

        /* --- AUTH MODAL --- */
        .auth-container { max-width: 450px; margin: 100px auto; background: #fff; padding: 50px; border-radius: 12px; box-shadow: var(--shadow); border: 1px solid var(--g1-border); }
        .auth-container h2 { font-family: 'Playfair Display', serif; font-size: 32px; text-align: center; margin-bottom: 30px; }
        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; font-size: 12px; font-weight: 800; text-transform: uppercase; margin-bottom: 8px; color: var(--g1-sub); }
        .input-group input { width: 100%; padding: 15px; border: 1px solid var(--g1-border); border-radius: 6px; font-size: 16px; transition: var(--transition); }
        .input-group input:focus { border-color: var(--g1-red); outline: none; }
        .btn-primary { width: 100%; padding: 18px; background: var(--g1-red); color: #fff; font-weight: 800; border-radius: 6px; text-transform: uppercase; letter-spacing: 1px; }

        /* --- PANEL JORNALISTA --- */
        .panel-grid { display: grid; grid-template-columns: 300px 1fr; gap: 40px; margin: 40px 0; }
        .sidebar { background: var(--g1-grey); padding: 30px; border-radius: 8px; }
        .sidebar-item { padding: 15px; border-bottom: 1px solid #ddd; cursor: pointer; font-weight: 700; transition: var(--transition); }
        .sidebar-item:hover { color: var(--g1-red); padding-left: 20px; }

        /* --- ANIMATIONS --- */
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
        .fade-in { animation: fadeIn 0.8s ease forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- FOOTER --- */
        footer { background: var(--g1-grey); padding: 80px 0; border-top: 1px solid var(--g1-border); margin-top: 100px; }
        .footer-content { display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; }
        .footer-logo { font-size: 32px; font-weight: 900; color: var(--g1-red); margin-bottom: 20px; }

        /* --- RESPONSIVIDADE --- */
        @media (max-width: 992px) {
            .hero { grid-template-columns: 1fr; }
            .news-grid { grid-template-columns: repeat(2, 1fr); }
            .header-content { grid-template-columns: auto 1fr; }
            .search-wrapper { display: none; }
        }
        @media (max-width: 600px) {
            .news-grid { grid-template-columns: 1fr; }
            .article-header h1 { font-size: 36px; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="container flex">
            <div class="live-indicator">
                <div class="live-dot"></div>
                AO VIVO: BROOKASIL ‚Äî <span id="current-time">00:00:00</span>
            </div>
            <div>PLANT√ÉO DE ANO NOVO 2026 ü•Ç</div>
            <div id="weather">28¬∞C ENSOLARADO</div>
        </div>
    </div>

    <header>
        <div class="container header-content">
            <div class="logo-group" onclick="router.go('home')">
                <div class="logo-g1">g1</div>
                <div class="logo-region">brookasil</div>
            </div>

            <div class="search-wrapper">
                <input type="text" id="main-search" placeholder="O que voc√™ est√° procurando?" onkeyup="app.search(event)">
            </div>

            <nav class="user-nav" id="user-area">
                <a href="#" onclick="router.go('login')">ASSINE J√Å</a>
                <a href="#" onclick="router.go('login')">MINHA CONTA</a>
            </nav>
        </div>
    </header>

    <nav class="main-nav">
        <ul>
            <li><a href="#" onclick="router.go('home')">Home</a></li>
            <li><a href="#" onclick="router.go('cat', 'politica')">Pol√≠tica</a></li>
            <li><a href="#" onclick="router.go('cat', 'esporte')">Esporte</a></li>
            <li><a href="#" onclick="router.go('filiacao')">Filia√ß√£o</a></li>
            <li><a href="#" onclick="router.go('candidatura')">Candidatura</a></li>
            <li><a href="#" onclick="router.go('divulgacao')">Trabalho</a></li>
            <li><a href="#" onclick="router.go('ajuda')">Ajuda</a></li>
        </ul>
    </nav>

    <main id="app-root" class="container fade-in">
        </main>

    <footer>
        <div class="container footer-content">
            <div>
                <div class="footer-logo">g1</div>
                <p>O portal de not√≠cias de Brookasil. Informa√ß√£o com credibilidade 24 horas por dia.</p>
            </div>
            <div>
                <h4 style="margin-bottom:20px">EDITORIAS</h4>
                <ul>
                    <li><a href="#">Pol√≠tica</a></li>
                    <li><a href="#">Economia</a></li>
                    <li><a href="#">Educa√ß√£o</a></li>
                </ul>
            </div>
            <div>
                <h4 style="margin-bottom:20px">SERVI√áOS</h4>
                <ul>
                    <li><a href="#">Filia√ß√£o Partid√°ria</a></li>
                    <li><a href="#">CDE Candidatura</a></li>
                    <li><a href="#">Divulga√ß√£o</a></li>
                </ul>
            </div>
            <div>
                <h4 style="margin-bottom:20px">AJUDA</h4>
                <ul>
                    <li><a href="#">Tutorial</a></li>
                    <li><a href="#">Fale Conosco</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        /* --- CORE CONFIGURATION --- */
        const DB_URL = "https://g1-brookasil-default-rtdb.firebaseio.com";
        
        const state = {
            user: JSON.parse(localStorage.getItem('g1_session')) || null,
            news: [],
            ads: []
        };

        /* --- API ENGINE --- */
        const API = {
            async get(path) {
                const r = await fetch(`${DB_URL}${path}.json`);
                return await r.json();
            },
            async post(path, data) {
                return await fetch(`${DB_URL}${path}.json`, { method: 'POST', body: JSON.stringify(data) });
            },
            async put(path, data) {
                return await fetch(`${DB_URL}${path}.json`, { method: 'PUT', body: JSON.stringify(data) });
            }
        };

        /* --- ROUTER ENGINE --- */
        const router = {
            go(view, param = null) {
                window.scrollTo({top: 0, behavior: 'smooth'});
                const root = document.getElementById('app-root');
                root.innerHTML = '<div style="padding:100px; text-align:center">Carregando conte√∫do g1...</div>';
                
                setTimeout(() => {
                    root.classList.remove('fade-in');
                    void root.offsetWidth; // Trigger reflow
                    root.classList.add('fade-in');

                    if(view === 'home') renderHome(root);
                    else if(view === 'article') renderArticle(root, param);
                    else if(view === 'login') renderLogin(root);
                    else if(view === 'perfil') renderPerfil(root);
                    else if(view === 'ajuda') renderAjuda(root);
                    else if(view === 'filiacao') renderStatic(root, 'filiacao');
                    else if(view === 'candidatura') renderStatic(root, 'candidatura');
                    else if(view === 'divulgacao') renderDivulgacao(root);
                    
                    this.updateUI();
                }, 300);
            },
            updateUI() {
                const area = document.getElementById('user-area');
                if(state.user) {
                    area.innerHTML = `
                        <span style="color:#fff">Ol√°, ${state.user.nome.split(' ')[0]}</span>
                        <img src="${state.user.foto || 'https://i.pravatar.cc/100'}" class="avatar" onclick="router.go('perfil')">
                    `;
                }
            }
        };

        /* --- VIEW RENDERERS --- */
        function renderHome(el) {
            const principal = state.news[0] || { titulo: "Carregando...", subtitulo: "Aguarde", imagem: "" };
            const secundarias = state.news.slice(1, 7);

            el.innerHTML = `
                <section class="hero">
                    <div class="main-manchete" onclick="router.go('article', '${principal.id}')">
                        <img src="${principal.imagem}">
                        <div class="overlay">
                            <span class="label" style="color:var(--new-year-gold)">DESTAQUE</span>
                            <h1>${principal.titulo}</h1>
                            <p>${principal.subtitulo}</p>
                        </div>
                    </div>
                    <div class="sidebar-news">
                        <h2 style="margin-bottom:20px; border-bottom: 2px solid var(--g1-red); display:inline-block">MAIS LIDAS</h2>
                        ${state.news.slice(0, 4).map((n, i) => `
                            <div style="margin-bottom:20px; cursor:pointer" onclick="router.go('article', '${n.id}')">
                                <span style="font-size:32px; font-weight:900; color:var(--g1-border); float:left; margin-right:15px">${i+1}</span>
                                <p style="font-weight:700; font-size:14px">${n.titulo}</p>
                            </div>
                        `).join('')}
                    </div>
                </section>
                <div class="news-grid">
                    ${secundarias.map(n => `
                        <div class="card" onclick="router.go('article', '${n.id}')">
                            <img src="${n.imagem}">
                            <span class="label">${n.tema}</span>
                            <h3>${n.titulo}</h3>
                            <div class="meta">Por ${n.autor} ‚Ä¢ H√° 1 hora</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderArticle(el, id) {
            const n = state.news.find(x => x.id === id);
            if(!n) return router.go('home');

            el.innerHTML = `
                <article class="article-view">
                    <div class="article-header">
                        <span class="label" style="color:var(--g1-red); font-size:14px; margin-bottom:10px; display:block">${n.tema}</span>
                        <h1>${n.titulo}</h1>
                        <h2>${n.subtitulo}</h2>
                    </div>
                    <div class="article-info">
                        <div>Por <strong>${n.autor}</strong>, g1 Brookasil<br><small>${new Date(n.data).toLocaleString()}</small></div>
                        <div class="flex" style="gap:10px">
                            <button style="background:#1877f2; color:#fff; padding:8px 15px; border-radius:4px">Facebook</button>
                            <button style="background:#1da1f2; color:#fff; padding:8px 15px; border-radius:4px">Twitter</button>
                        </div>
                    </div>
                    <div class="article-body">
                        <img src="${n.imagem}">
                        <p>${n.conteudo}</p>
                    </div>
                </article>
            `;
        }

        function renderLogin(el) {
            el.innerHTML = `
                <div class="auth-container">
                    <h2>Minha Conta</h2>
                    <div class="input-group">
                        <label>@usu√°rio</label>
                        <input type="text" id="login-user" placeholder="Digite seu usu√°rio">
                    </div>
                    <div class="input-group">
                        <label>Senha</label>
                        <input type="password" id="login-pass" placeholder="Digite sua senha">
                    </div>
                    <button class="btn-primary" onclick="app.auth.login()">Entrar</button>
                    <p style="text-align:center; margin-top:20px; font-size:13px">
                        N√£o tem conta? <a href="#" style="color:var(--g1-red)" onclick="renderRegister(document.getElementById('app-root'))">Cadastre-se agora</a>
                    </p>
                </div>
            `;
        }

        function renderRegister(el) {
            el.innerHTML = `
                <div class="auth-container">
                    <h2>Cadastre-se</h2>
                    <div class="input-group"><label>Nome Completo</label><input type="text" id="reg-nome"></div>
                    <div class="input-group"><label>@usu√°rio</label><input type="text" id="reg-user"></div>
                    <div class="input-group"><label>Senha</label><input type="password" id="reg-pass"></div>
                    <button class="btn-primary" onclick="app.auth.register()">Criar Conta</button>
                </div>
            `;
        }

        /* --- APP LOGIC --- */
        const app = {
            async init() {
                const data = await API.get('/news');
                state.news = data ? Object.values(data).reverse() : [];
                router.go('home');
                this.updateTime();
                setInterval(this.updateTime, 1000);
            },
            updateTime() {
                const now = new Date();
                document.getElementById('current-time').innerText = now.toLocaleTimeString('pt-BR', {timeZone: 'America/Maceio'});
            },
            auth: {
                async login() {
                    const u = document.getElementById('login-user').value;
                    const p = document.getElementById('login-pass').value;
                    
                    if(u === 'admin' && p === 'Brookasil1234') {
                        state.user = { nome: "Dono do Site", user: "admin", role: "dono" };
                        localStorage.setItem('g1_session', JSON.stringify(state.user));
                        router.go('home');
                    } else {
                        // Simula√ß√£o de login
                        state.user = { nome: u, user: u, role: "usuario" };
                        localStorage.setItem('g1_session', JSON.stringify(state.user));
                        router.go('home');
                    }
                },
                register() {
                    const nome = document.getElementById('reg-nome').value;
                    state.user = { nome, user: "novo_user", role: "usuario" };
                    localStorage.setItem('g1_session', JSON.stringify(state.user));
                    router.go('home');
                }
            },
            search(e) {
                if(e.key === 'Enter') {
                    const q = e.target.value.toLowerCase();
                    const filtered = state.news.filter(n => n.titulo.toLowerCase().includes(q));
                    // Render filtered results...
                    alert(`Encontramos ${filtered.length} resultados.`);
                }
            }
        };

        // Static Page Content Helpers
        function renderAjuda(el) {
            el.innerHTML = `
                <div class="article-view">
                    <h1>Central de Ajuda</h1>
                    <div class="article-body">
                        <h3>Como criar sua conta?</h3>
                        <p>Basta clicar em "Minha Conta" no topo, escolher um nome de usu√°rio e uma senha segura. N√£o solicitamos e-mail nem telefone para sua total privacidade em Brookasil.</p>
                        <h3>Como publicar uma divulga√ß√£o?</h3>
                        <p>Logado em sua conta, acesse a aba "Trabalho" e preencha o formul√°rio. O Dono do site analisar√° seu pedido em at√© 24h.</p>
                    </div>
                </div>
            `;
        }

        function renderStatic(el, type) {
            const title = type === 'filiacao' ? 'Filia√ß√£o Partid√°ria' : 'Candidatura CDE';
            const url = type === 'filiacao' ? 'https://tsedoroblox2025.github.io/filia-o.html/' : 'https://tsedoroblox2025.github.io/candidatura-cde/';
            el.innerHTML = `
                <div class="article-view" style="text-align:center">
                    <h1>${title}</h1>
                    <p style="margin:30px 0; font-size:18px">Acesse o portal oficial do governo para concluir seu processo em Brookasil.</p>
                    <a href="${url}" target="_blank" class="btn-primary" style="display:inline-block; width:auto; padding: 20px 40px">Ir para o Site Oficial</a>
                </div>
            `;
        }

        function renderDivulgacao(el) {
            if(!state.user) return renderLogin(el);
            el.innerHTML = `
                <div class="auth-container" style="max-width:700px">
                    <h2>Solicitar Divulga√ß√£o</h2>
                    <div class="input-group"><label>T√≠tulo do Trabalho</label><input type="text" id="adv-title"></div>
                    <div class="input-group"><label>Descri√ß√£o Detalhada</label><textarea id="adv-desc" style="width:100%; height:150px; border:1px solid #ddd; padding:15px"></textarea></div>
                    <button class="btn-primary" onclick="alert('Solicita√ß√£o enviada para o Dono!')">Enviar para An√°lise</button>
                </div>
            `;
        }

        // Iniciar App
        app.init();

    </script>
</body>
</html>
